<!DOCTYPE html>
<html>
    <head>
        <title>Create Account</title>
        <link rel="icon" href="/assets/nust-pics/Nustlogo.png">
        <link rel="stylesheet" href="/css/account.css">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div class="header">
                
            <div class="page-title">
                <img class="logo" src="/assets/nust-pics/Polytechnic_of_Namibia_logo.png">
                NUST Tut & Consult</div>
            
            <div class="my-books">
                <img class="tutor" src="/assets/nust-pics/tutor.png">
                <p>Faculty of Computing</p>
            </div>
            <div class="account-section">
                <img class="account" src="/assets/nust-pics/back.png">
                <a class="acc" href="/index.html">Back</a>
            </div>
        </div>

        <div class="layout">
            <img class="library" src="/assets/nust-pics/registration2023.png">
            <div class="form" id="form">
                <div class="create">
                    Create an Account<br>
                   <span class="fill-in">Please fill in the form below:</span> 
                </div>
                <div>
                    <div class="labels">Firstname</div>
                    <input class="input" type="text" placeholder="Name"  id="name"></input>
                </div>
                <div>
                    <div class="labels">Surname</div>
                    <input class="input" type="text" placeholder="Surname" id="surname"></input>
                </div>
                <div>
                    <div class="labels">Email</div>
                    <input class="input" type="text" placeholder="Email" id="email"></input>
                </div>
                <div>
                    <div class="labels">Password</div>
                    <input class="input" type="password" placeholder="Password" id="password"></input>
                </div>
                <div>
                    <div class="labels">Confirm Password</div>
                    <input class="input" type="password" placeholder="Confirm Password" id="c-password"></input>
                </div>
                <button type="submit"class="submit" id="add">Submit</button>
            </div>
        </div>
        
        <footer>
               

            <div class="about-info">
                <img class="logo" src="/assets/nust-pics/Polytechnic_of_Namibia_logo.png">
                <p>Tut & Consult services provide students services, as means to improve</p> 
                <p>their coursework and refine their understanding in preparation for assessments.</p>
                <span class="official-website">View Official Website &rarr;</span>
            </div>
           
            <div class="socials">

                  <div class="contacts">
                    <img style="padding-right:10px;" class="icons" src="/assets/nust-pics/instagram.png">
                    <p>Instagram</p>
                  </div>

                  <div class="contacts">
                    <img style="padding-right:10px;" class="icons" src="/assets/nust-pics/facebook.png">
                    <p>Facebook</p>
                  </div>

                  <div class="contacts">
                    <img style="padding-right:10px;"class="icons" src="/assets/nust-pics/telephone.png">
                    <p>Switch Board</p>
                  </div>

                  <div class="contacts">
                    <img style="padding-right:10px;"class="icons" src="/assets/nust-pics/email.png">
                    <p>Email</p>
                  </div>
            </div>
    </footer>
    <div class="design">
        Design - dinahmasule@gmail.com</div>
</div>
</div>
<script type="module">
    
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
    import{ getDatabase , set , ref , push , child , onValue , get } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

    var firebaseConfig = {
      apiKey: "AIzaSyBrz91E8E9FfTttdHtpNnOiv7BEAEM3gEE",
      authDomain: "tut-consult-62ff2.firebaseapp.com",
      projectId: "tut-consult-62ff2",
      storageBucket: "tut-consult-62ff2.appspot.com",
      messagingSenderId: "119509345920",
      appId: "1:119509345920:web:6d2108820a0515806e2865",
      measurementId: "G-6QCV8X71JR"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    add.addEventListener('click',(e)=>{
        var name = document.getElementById('name').value;
        var surname = document.getElementById('surname').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var c_password= document.getElementById('c-password').value;

        if(name=="" || surname=="" || email=="" ||password=="" || c_password ==""){
            alert("Fill in all required fields");
        }else if(password!=c_password){
            alert("Passwords do not match");
        }else{
            const user= push(child(ref(database),'users')).key;

            set(ref(database,'users/'+user),{
            name:name,
            surname:surname,
            email:email,
            password:password
            })
            alert("Successfull");
        }

       
    })
  </script>
</body>
</html>

 